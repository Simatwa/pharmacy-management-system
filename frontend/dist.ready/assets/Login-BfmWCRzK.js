import{c as x,r as d,b,d as v,j as e,U as N,L as w,V as m}from"./index-CdQU1hlX.js";import{u as L,L as k,E as S,a as E,z as a,t as M}from"./index-Qu0v2Dha.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=x("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=x("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),z=a.object({username:a.string().min(1,"Username is required"),password:a.string().min(1,"Password is required")});function q(){d.useEffect(()=>{document.title="Login - PharmaMS"},[]);const u=b(),{login:h,isLoading:t}=v(),[r,p]=d.useState(!1),{register:l,handleSubmit:f,formState:{errors:s},setError:g}=L({resolver:M(z)}),j=async n=>{var o,i;try{await h(n.username,n.password),m.success("Login successful!"),u("/")}catch(y){const c=((i=(o=y.response)==null?void 0:o.data)==null?void 0:i.detail)||"Invalid credentials";g("root",{message:c}),m.error(c)}};return e.jsx("div",{className:"min-h-[80vh] flex items-center justify-center px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Welcome Back"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to access your account"})]}),e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[e.jsxs("form",{className:"space-y-6",onSubmit:f(j),children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(N,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{...l("username"),type:"text",className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm",placeholder:"Enter your username"})]}),s.username&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.username.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(k,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{...l("password"),type:r?"text":"password",className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm",placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>p(!r),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:r?e.jsx(S,{className:"h-5 w-5 text-gray-400"}):e.jsx(E,{className:"h-5 w-5 text-gray-400"})})]}),s.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.password.message})]}),s.root&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:s.root.message})})]})}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:t,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:t?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"}):e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(R,{className:"h-5 w-5"}),e.jsx("span",{children:"Sign in"})]})})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"New to PharmaMS?"})})]}),e.jsx("div",{className:"mt-6",children:e.jsxs(w,{to:"/register",className:"w-full flex items-center justify-center px-4 py-2 border border-red-600 text-red-600 font-medium rounded-md hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[e.jsx("span",{children:"Create an account"}),e.jsx(P,{className:"ml-2 h-5 w-5"})]})})]})]})]})})}export{q as default};
