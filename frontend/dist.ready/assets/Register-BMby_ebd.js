import{r as c,b as P,d as k,j as e,U as L,M as S,e as C,L as E,V as u}from"./index-CdQU1hlX.js";import{u as A,L as h,E as p,a as f,z as a,t as M}from"./index-Qu0v2Dha.js";import{A as U}from"./arrow-left-BkWhqfxE.js";const z=a.object({username:a.string().min(3,"Username must be at least 3 characters").max(20,"Username must be at most 20 characters").regex(/^[a-zA-Z0-9_]+$/,"Username can only contain letters, numbers, and underscores"),email:a.string().email("Invalid email address").min(1,"Email is required"),location:a.string().min(1,"Location is required").max(100,"Location must be at most 100 characters"),password:a.string().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number").regex(/[^A-Za-z0-9]/,"Password must contain at least one special character"),confirmPassword:a.string()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Z(){c.useEffect(()=>{document.title="Create Account - PharmaMS"},[]);const t=P(),{register:g,isLoading:i}=k(),[l,w]=c.useState(!1),[n,j]=c.useState(!1),{register:r,handleSubmit:b,formState:{errors:s},setError:y}=A({resolver:M(z)}),N=async o=>{var m,d;try{await g({username:o.username,email:o.email,password:o.password,location:o.location}),u.success("Registration successful! Please login."),t("/login")}catch(v){const x=((d=(m=v.response)==null?void 0:m.data)==null?void 0:d.detail)||"Registration failed";y("root",{message:x}),u.error(x)}};return e.jsx("div",{className:"min-h-[80vh] flex items-center justify-center px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Create your account"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Join PharmaMS to access quality healthcare products"})]}),e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[e.jsxs("form",{className:"space-y-6",onSubmit:b(N),children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(L,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{...r("username"),type:"text",className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm",placeholder:"Choose a username"})]}),s.username&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.username.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(S,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{...r("email"),type:"email",className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm",placeholder:"Enter your email"})]}),s.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(C,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{...r("location"),type:"text",className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm",placeholder:"Enter your location"})]}),s.location&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.location.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(h,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{...r("password"),type:l?"text":"password",className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm",placeholder:"Create a password"}),e.jsx("button",{type:"button",onClick:()=>w(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?e.jsx(p,{className:"h-5 w-5 text-gray-400"}):e.jsx(f,{className:"h-5 w-5 text-gray-400"})})]}),s.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(h,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{...r("confirmPassword"),type:n?"text":"password",className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm",placeholder:"Confirm your password"}),e.jsx("button",{type:"button",onClick:()=>j(!n),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n?e.jsx(p,{className:"h-5 w-5 text-gray-400"}):e.jsx(f,{className:"h-5 w-5 text-gray-400"})})]}),s.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.confirmPassword.message})]}),s.root&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:s.root.message})})]})}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:i?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"}):"Create Account"})})]}),e.jsx("div",{className:"mt-6",children:e.jsxs(E,{to:"/login",className:"flex items-center justify-center text-sm text-red-600 hover:text-red-500",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Already have an account? Sign in"]})})]})]})})}export{Z as default};
